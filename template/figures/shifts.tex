\begin{tikzpicture}[xscale=2, samples=100]
	\tikzmath {
		% params
		\tf = 0.62;
		\steps = 5;
		\lines = 4;
		% spacing
		\lineSpacing = 3.5;
		\bracesOffesY = -1.1;
		% computed
		\lineMax = \lines-1;
	}
	% initial plot
	\draw[-, color=black, domain=0:1, line width=1mm] plot (\x,{sin(\x*2*pi r)});
	\foreach \lineIndex in {0, ..., \lineMax} {
			\tikzmath {
				int \lineNum, \fullStepsPerLine;
				\linePosition = \lineIndex * \lineSpacing;
				\lineNum = \lineIndex + 1;
				\fullStepsPerLine = floor(\steps - \lineIndex*\tf);
			}
			\ifnum \fullStepsPerLine>0
				% axes
				\draw[-] (-0.2,\linePosition) node[left] {(\lineNum)} -- (\steps,\linePosition) node[right] {$t$};
				\draw[-] (0,-1.2+\linePosition) -- (0,1.2+\linePosition) node[above] {$A$};
				% plot
				\draw[-, color=black, domain=0:\steps-\lineIndex*\tf] plot (\lineIndex*\tf+\x,{sin(\x*2*pi r)+\linePosition});
				% dotted plot on the first line
				\draw[-, color=gray, dotted, thin, domain=0:\steps-\lineIndex*\tf] plot (\lineIndex*\tf+\x,{sin(\x*2*pi r)});
				% exclude the first plot
				\ifnum \lineIndex>0
					% T_F brackets
					\foreach \tfPerLine in {1, ..., \lineIndex} {
							\draw[|-|, thin, color=red] (\tfPerLine*\tf-\tf, \bracesOffesY+\linePosition) -- (\tfPerLine*\tf, \bracesOffesY+\linePosition) node[midway, below] () {$T_F$};
						}
					% arrows
					\draw[->, thin, color=gray] (1/4+\lineIndex*\tf, 1+0.1) -- (1/4+\lineIndex*\tf, \lineIndex*\lineSpacing-0.5);
					% T_F brackets and dividers on the fist line
					\draw[|-|, thin, color=red] (\lineIndex*\tf-\tf, \bracesOffesY*2) -- (\lineIndex*\tf, \bracesOffesY*2) node[midway, above] () {$T_F$};
					\draw[-, dashed, thin, color=red] (\lineIndex*\tf, \bracesOffesY*2) -- (\lineIndex*\tf, 1);
				\fi
				% tn grid
				\tikzmath{
					int \fullStepsPerLineMax;
					\fullStepsPerLineMax = \fullStepsPerLine-1;
				}
				\foreach \stepIndex in {0, ..., \fullStepsPerLineMax} {
						% brackets
						\draw[|-|, thin, color=blue] (\lineIndex*\tf+\stepIndex, \bracesOffesY+\linePosition) -- (\lineIndex*\tf+\stepIndex+1, \bracesOffesY+\linePosition) node[midway, below] () {$T_N$};
						% dividers (left and right)
						\draw[-, very thin, blue] (\lineIndex*\tf+\stepIndex+1, 1+\linePosition) -- (\lineIndex*\tf+\stepIndex+1, \bracesOffesY+\linePosition);
						\draw[-, very thin, gray] (\lineIndex*\tf+\stepIndex, 1+\linePosition) -- (\lineIndex*\tf+\stepIndex, \bracesOffesY+\linePosition);
					}
			\fi
		}

\end{tikzpicture}


