\begin{tikzpicture}[auto, node distance=1cm]
	% line 0
	\node[block, minimum width=20mm]	(delay0a)	{$F/2$ delay};
	\node[branch, right = 1.5cm of delay0a]	(branch0)	{};
	\node[multiply right, label=above:$\rho_2$, right = 1cm of branch0, xshift=0.5cm]	(mul0)	{};
	\node[sum, right = 1cm of mul0]	(sum0)	{};
	\node[block, right = 1.5cm of sum0]	(delay0b)	{$(N-F)/2$ delay};
	
	% line 1
	\node[block, below left = 1cm and 0cm of delay0a]	(filter1a)	{Reflection \\ filter};
	\node[multiply down, label=left:$\rho_1$, below = 1cm of branch0, yshift=-0.5cm]	(mul1a)	{};
	\node[multiply up, label=right:$\rho_1$, below = 1cm of sum0]	(mul1b)	{};
	\node[block, below right = 1cm and 0cm of delay0b]	(filter1b)	{Reflection \\ filter};
	
	% line 2
	\node[block, below right = 1cm and 0cm of filter1a, minimum width=20mm]	(delay2a)	{$F/2$ delay};
	\node[sum, below = 1cm of mul1a]	(sum2)	{};
	\node[multiply left, label=below:$\rho_2$, right = 1cm of sum2]	(mul2)	{};
	\node[branch, below = 1cm of mul1b, yshift=-0.5cm]	(branch2)	{};
	\node[block, right = 1.5cm of branch2]	(delay2b)	{$(N-F)/2$ delay};

	\draw[dashed] (1.5,1) rectangle (7.5,-4.8);
	\node[above = 0.7cm of mul0] (sj) {Finger scattering-junction};

	\node[sum, left of=filter1a, xshift=2.5cm]	(sum1) 	{};
	\coordinate [above=1.5cm of sum1] (out0);
	\coordinate [below=1.5cm of sum1] (out2);
	\coordinate [right=1cm of sum1] (out1);
	\begin{pgfonlayer}{bg}	% select the background layer
		\path (out0) -- (sum1);
		\path (out2) -- (sum1);
		\path (sum1) -- (out1) node [pos=1.5, text width=2.5cm, above] {Output};
	\end{pgfonlayer}

	% Loop connections
	\path (delay0a)		--	(branch0);
	\path (branch0)		--	(mul0);
	\path (mul0)			--	(sum0);
	\path (sum0)			--	(delay0b);
	\path (delay0b)		-|	(filter1b);
	\path (filter1b)	|-	(delay2b);

	\path (delay2b)		--	(branch2);
	\path (branch2)		--	(mul2);
	\path (mul2)			--	(sum2);
	\path (sum2)			--	(delay2a);
	\path (delay2a)		-|	(filter1a);
	\path (filter1a)	|-	(delay0a);

	% Branch connections
	\path (branch0)		--	(mul1a);
	\path (mul1a)	--	(sum2);
	\path (branch2)		--	(mul1b);
	\path (mul1b)	--	(sum0);
\end{tikzpicture}